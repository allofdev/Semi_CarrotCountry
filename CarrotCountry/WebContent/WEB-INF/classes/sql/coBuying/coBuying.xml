<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<entry key="increaseCount">
		UPDATE
		       POST
		   SET POST_VIEWS = POST_VIEWS + 1
		 WHERE BLIND_CHECK = 'Y'
		   AND POST_NO = ?
	</entry>
	
	<entry key="increaseQnACount">
		UPDATE
		       GROUPBUY_QUESTION
		   SET GQ_VIEWS = GQ_VIEWS + 1
		 WHERE GQ_NO = ?
		   AND GQ_STATUS = 'Y'
	</entry>

	<entry key="selectQnAListCount">
		SELECT
		       COUNT(*) "LISTCOUNT"
		  FROM groupbuy_question
	</entry>

	<entry key="selectQnAList">
		SELECT *
		  FROM (
		        SELECT 
		               ROWNUM RNUM
		             , A.*
		          FROM (
		                SELECT
		                	   POST_NO
		                     , GQ_NO
		                     , MEM_USERID
		                     , GQ_TITLE
		                     , GQ_VIEWS
		                     , GQ_ENROLLDATE
		                  FROM GROUPBUY_QUESTION 
		                  JOIN MEMBER USING(MEM_NO)
		                 WHERE GQ_STATUS = 'Y'
		                 ORDER
		                    BY GQ_NO DESC
		                ) A 
		        )
		 WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	<entry key="insertQuestion">
	INSERT
		  INTO GROUPBUY_QUESTION
		  (
		    GQ_NO
		  , GQ_TITLE
		  , GQ_CONTENT
		  , MEM_NO
		  )
		  VALUES
		  (
		    SEQ_GQNO.NEXTVAL
		  , ?
		  , ?
		  , ?
		  )
	</entry>
	
	<entry key="selectQnADetail">
		SELECT
		       GQ_NO
		     , GQ_TITLE
		     , MEM_NAME
		     , GQ_ENROLLDATE
		     , GQ_CONTENT
		  FROM GROUPBUY_QUESTION
		  JOIN MEMBER USING (MEM_NO)
		 WHERE GQ_STATUS = 'Y'
		   AND GQ_NO = ?
	</entry>
	
	<entry key="updateBuyerQnA">
		UPDATE
		       GROUPBUY_QUESTION
		   SET GQ_TITLE = ?
		     , GQ_CONTENT = ? 
		 WHERE GQ_NO = ?
	</entry>
	
	<entry key="deleteBuyerQnA">
		UPDATE 
		       GROUPBUY_QUESTION
		   SET GQ_STATUS = 'N'
		 WHERE GQ_NO = ?
	
	</entry>
	
	<entry key="selectSellerQnAList">
			SELECT *
			  FROM (
			        SELECT 
			               ROWNUM RNUM
			             , A.*
			          FROM (
			                SELECT
	                             , GQ_NO
			                     , MEM_USERID
			                     , GQ_TITLE
			                     , GQ_VIEWS
			                     , GQ_ENROLLDATE
			                  FROM GROUPBUY_QUESTION 
			                  JOIN MEMBER USING(MEM_NO)
			                 WHERE GQ_STATUS = 'Y'
	                           AND POST_NO = ?
			                 ORDER
			                    BY GQ_NO DESC
			                ) A 
			        )
			 WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	<entry key="selectProductQnAList"> 아직임
		SELECT
		       THUMBNAIL_LOADPATH
		     , POST_NAME
		  FROM POST
		 WHERE POST_NO=?
	
	</entry>
	
	
	
	
	// ==============================================
	
	
	<entry key="selectProductListCount">
		SELECT
		       COUNT(*) "LISTCOUNT"
		  FROM GROUP_PURCHASE
	</entry>
	
	
	
	<entry key="selectProduct">
		SELECT
		       POST_NO
		     , POST_ENROLL_DATE
		     , GP_DEADLINE
		     , GP_MINPEOPLE
		     , GP_PEOPLE
		     , GP_DPRICE
             , POST_COMMENT
             , GP_REFUND
		  FROM GROUP_PURCHASE 
		  LEFT
		  JOIN POST USING(POST_NO)
		 WHERE POST_NO = ?
		   AND GP_POST_CHECK = 2
	</entry>
	
	<entry key="selectOption">
		SELECT
			   OPTION_NO
             , OPTION_NAME
          FROM PROD_OPTION
         WHERE POST_NO = ?
	</entry>
	
	<entry key="selectAccount">
		SELECT
               ACCOUNT
          FROM ACCOUNT
         WHERE POST_NO = ?
	</entry>

	<entry key="selectThumbnail">
		SELECT
		       POST_NO
		     , THUMBNAIL_PATH
		     , THUMBNAIL_FILENAME
		     , THUMBNAIL_LOADPATH
		  FROM POST
		 WHERE POST_NO = ?
	</entry>
	
	<entry key="selectPhoto">
		SELECT
		       POST_NO
		     , PHOTO_PATH
		     , PHOTO_FILENAME
		     , PHOTO_LOADPATH
		  FROM PHOTO
		 WHERE POST_NO = ?
	</entry>
	
	<entry key="selectMainProductList">
		SELECT *
		  FROM (
		        SELECT 
		               ROWNUM RNUM
		             , A.*
		          FROM (
		                SELECT
		                       POST_NO
		                     , THUMBNAIL_LOADPATH
		                     , POST_NAME
		                     , GP_PEOPLE
		                     , POST_LIKES
		                     , GP_PRICE
		                     , GP_DRATE
		                     , GP_DPRICE
		                  FROM GROUP_PURCHASE
		                  JOIN POST USING (POST_NO)
		                 WHERE BLIND_CHECK = 'Y'
		                 ORDER
		                    BY POST_NO DESC
		                ) A 
		        )
		 WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	
	


</properties>












